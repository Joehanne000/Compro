<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/style.css">
    <title>Edit Coffee</title>
</head>
<body>

<div class="container">
    <h1 th:text="'Edit ' + ${coffee.name}"></h1>

    <form action="/update" method="POST">
        <input type="hidden" name="id" th:value="${coffee.id}">

        <!-- Name -->
        <div class="form-group">
            <label for="name">Coffee Name</label>
            <input type="text" id="name" name="name" th:value="${coffee.name}" required minlength="2" maxlength="50">
        </div>

        <!-- Type -->
        <div class="form-group">
            <label for="type">Type</label>
            <select id="type" name="type" required>
                <option value="Arabica" th:selected="${coffee.type == 'Arabica'}">Arabica</option>
                <option value="Robusta" th:selected="${coffee.type == 'Robusta'}">Robusta</option>
            </select>
        </div>

        <!-- Size -->
        <div class="form-group">
            <label for="size">Choose Size:</label>
            <select id="size" name="size" required>
                <option value="Small" th:selected="${coffee.size == 'Small'}">Small</option>
                <option value="Medium" th:selected="${coffee.size == 'Medium'}">Medium</option>
                <option value="Large" th:selected="${coffee.size == 'Large'}">Large</option>
            </select>
        </div>

        <!-- Price -->
        <div class="form-group">
            <label for="price">Price</label>
            <input type="number" id="price" name="price" step="0.01" min="0.01" th:value="${coffee.price}" required>
        </div>

        <!-- Roast Level -->
        <div class="form-group">
            <label for="roastLevel">Roast Level</label>
            <select id="roastLevel" name="roastLevel" required>
                <option value="Light" th:selected="${coffee.roastLevel == 'Light'}">Light</option>
                <option value="Medium" th:selected="${coffee.roastLevel == 'Medium'}">Medium</option>
                <option value="Dark" th:selected="${coffee.roastLevel == 'Dark'}">Dark</option>
            </select>
        </div>

        <!-- Origin -->
        <div class="form-group">
            <label for="origin">Origin</label>
            <input type="text" id="origin" name="origin" th:value="${coffee.origin}" maxlength="100">
        </div>

        <!-- Is Decaf -->
        <div class="form-group">
            <label for="isDecaf">Decaf</label>
            <input type="checkbox" id="isDecaf" name="isDecaf" th:checked="${coffee.isDecaf}">
        </div>

        <!-- Stock -->
        <div class="form-group">
            <label for="stock">Stock</label>
            <input type="number" id="stock" name="stock" min="0" th:value="${coffee.stock}" required>
        </div>

        <!-- Flavor Notes -->
        <div class="form-group">
            <label>Flavor Notes</label><br>
            <input type="checkbox" name="flavorNotes" value="Chocolate" th:checked="${coffee.flavorNotes.contains('Chocolate')}"> Chocolate
            <input type="checkbox" name="flavorNotes" value="Citrus" th:checked="${coffee.flavorNotes.contains('Citrus')}"> Citrus
            <input type="checkbox" name="flavorNotes" value="Nutty" th:checked="${coffee.flavorNotes.contains('Nutty')}"> Nutty
        </div>

        <!-- Brew Method -->
        <div class="form-group">
            <label for="brewMethod">Brew Method</label>
            <select id="brewMethod" name="brewMethod" required>
                <option value="Drip" th:selected="${coffee.brewMethod == 'Drip'}">Drip</option>
                <option value="French Press" th:selected="${coffee.brewMethod == 'French Press'}">French Press</option>
                <option value="Espresso" th:selected="${coffee.brewMethod == 'Espresso'}">Espresso</option>
            </select>
        </div>

        <p>Welcome, <span th:text="${session.username}">user</span>!</p>

        <button type="submit">Save</button>
    </form>

    <a href="/" class="back-link">Back to Coffee List</a>
</div>

</body>
</html>
